{% extends "head.html" %}

{% include "header.html" %}

{% block content %}

<div class="container-usuarios flex flex-col justify-center items-center min-h-screen py-16">

    <div class="titulo mt-16 flex flex-col justify-center items-center">
        <h2 class="text-3xl text-center font-bold">Usuários</h2>
    </div>

    <div class="pesquisa mt-12 flex justify-center w-full">
        <form action="" method="get" class="flex flex-row gap-4 max-w-4xl w-full px-4">
            <div class="w-full">
                <input 
                    type="text" 
                    name="pesquisa" 
                    placeholder="Pesquisar Usuário"
                    class="w-full rounded border border-black px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <div class="w-40">
                <button 
                    type="submit" 
                    class="btn btn-primary">
                    Pesquisar
                </button>
            </div>
        </form>
    </div>

    <section class="usuarios flex justify-center mt-12 w-full px-4">
        <div class="lista-usuarios grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-7xl w-full">

            {% for user in usuarios.dados %}
                <div class="card-usuario border border-dark p-6">
                    <div class="nome-svg flex items-center gap-4">
                        <h2 class="text-xl font-semibold">{{user.nome}}</h2>
                    </div>
                    <p class="mt-4 font-semibold">Email: <span class="font-normal">{{user.email}}</span></p>
                    <p class="mt-2 mb-4 font-semibold">Telefone: <span class="font-normal">{{user.telefone}}</span></p>
                    
                    {% if current_user.email == 'joaodaniel1al@gmail.com' %}
                    <form action="{{ url_for('delete_usuario', id=user.id) }}" method="POST" style="display:inline;">
                        <button 
                            type="submit" 
                            class="btn btn-danger flex items-center justify-center"
                            onclick="return confirm('Tem certeza que deseja excluir este usuario?');">
                            <p>Deletar</p>
                        </button>
                    </form>
                    {% endif %}
                </div>
            {% endfor %}

        </div>
    </section>

</div>

{% endblock %}
